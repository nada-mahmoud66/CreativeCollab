@model ApplicationUser
@{
	Layout = null;
	Layout = "TimeLineLayout";
}

<div class="theme-layout">
	<section>
		<div class="feature-photo">
			@* cover *@
			<figure><img src="~/images/user/@ViewBag.CoverImage" style="width: 1366px; height: 400px" alt=""></figure>
			<div class="add-btn">
				<span id="followerCountMain">@ViewBag.NumOfFollowers Followers</span>


			</div>
			<form method="post" id="uploadForm66" asp-controller="UserProfile" asp-action="EditCoverImage" class="edit-phto" enctype="multipart/form-data">
				<i class="-camera-retro"></i>
				<label class="fileContainer">
					Edit Cover Photo
					<input id="fileInput66" name="ProfileImage" type="file" />
				</label>
			</form>
			<div class="container-fluid">
				<div class="row merged">
					<div class="col-lg-2 col-sm-3">
						<div class="user-avatar">
							<figure>
								<img src="~/images/user/@ViewBag.ProfileImage" style="width: 200px; height: 185px;" alt="">
								<form method="post" id="uploadForm55" asp-controller="UserProfile" asp-action="EditProfileImage" class="edit-phto" enctype="multipart/form-data">
									<i class="-camera-retro"></i>
									<label class="fileContainer">
										Edit Display Photo
										<input id="fileInput55" name="ProfileImage" type="file" />
									</label>
								</form>
							</figure>
						</div>
					</div>
					<div class="col-lg-10 col-sm-9">
						<div class="timeline-info">
							<ul>
								<li class="admin-name">
									<h5 id="fullName">@ViewBag.FirstName @ViewBag.LastName  </h5>
								</li>
								<li>
									<a class="active" asp-controller="UserProfile" asp-action="Index" data-target="timeline">My posts</a>
									@* <a class="" href="#photos" data-target="photos">Photos</a> *@
									<a class="" href="#friends" data-target="friends">Follow</a>
									<a class="" href="#groups" data-target="groups">Groups</a>
									<a class="" asp-controller="Chat" asp-action="Index" data-target="Chat">Chats</a>
									@* <a class="" href="#about" data-target="about">About</a> *@
								</li>
							</ul>
						</div>
						<div id="tabContent" style="display: none;"></div>


					</div>
				</div>
			</div>
		</div>
	</section> <!-- profile  -->
<section>
	<div class="gap gray-bg">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12">
					<div class="row" id="page-contents">
						<div class="col-lg-3  ">
							<aside class="sidebar stick-widget">
								@Html.Partial("pvEditSideBar", Model)
								
							</aside>
						</div><!-- sidebar -->
						<div class="col-lg-6">

							<div id="basic-info" class="tab3-content actives">
								<div class="central-meta">
									<div class="editing-info">
										<h5 class="f-title"><i class="ti-info-alt"></i> Edit Basic Information</h5>

										<form method="post" id="myForm">
											<div class="form-group">
												<input asp-for="@Model.FirstName" type="text" id="input" required="required">
												<label class="control-label" for="input">First Name</label><i class="mtrl-select"></i>
												<span asp-validation-for="@Model.FirstName" class="text-danger"></span>

											</div>
											<div class="form-group ">
												<input asp-for="@Model.LastName" type="text" required="required">
												<label class="control-label" for="input">Last Name</label><i class="mtrl-select"></i>
												<span asp-validation-for="@Model.LastName" class="text-danger"></span>

											</div>
											<div class="form-group ">
												<input asp-for="@Model.Email" type="text" required="required">
												<label class="control-label" for="input">Email</label><i class="mtrl-select"></i>
												<span asp-validation-for="@Model.Email" class="text-danger"></span>
												<div id="validationMessage" class="text-danger"></div>

											</div>
										@* 	<div class="form-radio">
												<div class="radio">
													<label>
														<input asp-for=@Model.Gender type="radio" value="M" checked="checked" name="radio"><i class="check-box"></i>Male
													</label>
												</div>
												<div class="radio">
													<label>
														<input asp-for=@Model.Gender type="radio" value="F" name="radio"><i class="check-box"></i>Female
													</label>
												</div>

											</div> *@
											<input asp-for="@Model.CoverImage" type="text" hidden>
											<input asp-for="@Model.ProfileImage" type="text" hidden>
											@* <input asp-for="@Model.ApplicationUser.Followers" type="" hidden>
											<input asp-for="@Model.ApplicationUser.Followings" type="" hidden>
											*@

											<div class="submit-btns">

												<button class="mtr-btn signin" type="button" id="updateButton" />
												<span>Update</span>
											</div>
										</form>
									</div>
								</div>
							</div>


							@Html.Partial("pvGroups", Model)

							@Html.Partial("pvFriends", Model)


						</div><!-- centerl meta -->
						<div class="col-lg-3">
							@Html.Partial("pvSideBarFollowingList", Model);
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
</section>
</div>






<div class="side-panel">
	<h4 class="panel-title">General Setting</h4>
	<form method="post">
		<div class="setting-row">
			<span>use night mode</span>
			<input type="checkbox" id="nightmode1" />
			<label for="nightmode1" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Notifications</span>
			<input type="checkbox" id="switch22" />
			<label for="switch22" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Notification sound</span>
			<input type="checkbox" id="switch33" />
			<label for="switch33" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>My profile</span>
			<input type="checkbox" id="switch44" />
			<label for="switch44" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Show profile</span>
			<input type="checkbox" id="switch55" />
			<label for="switch55" data-on-label="ON" data-off-label="OFF"></label>
		</div>
	</form>
	<h4 class="panel-title">Account Setting</h4>
	<form method="post">
		<div class="setting-row">
			<span>Sub users</span>
			<input type="checkbox" id="switch66" />
			<label for="switch66" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>personal account</span>
			<input type="checkbox" id="switch77" />
			<label for="switch77" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Business account</span>
			<input type="checkbox" id="switch88" />
			<label for="switch88" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Show me online</span>
			<input type="checkbox" id="switch99" />
			<label for="switch99" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Delete history</span>
			<input type="checkbox" id="switch101" />
			<label for="switch101" data-on-label="ON" data-off-label="OFF"></label>
		</div>
		<div class="setting-row">
			<span>Expose author name</span>
			<input type="checkbox" id="switch111" />
			<label for="switch111" data-on-label="ON" data-off-label="OFF"></label>
		</div>
	</form>
</div><!-- settings side panel -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

@section scripts {
	<script>
		$(document).ready(function () {
			$('#updateButton').click(function () {
				$.ajax({
					url: '@Url.Action("UpdateBasicInfo", "UserProfile")',
					type: 'POST',
					data: $('#myForm').serialize(),
					success: function (response) {
						if (response.success) {
							$('#validationMessage').hide();
							Swal.fire({
								icon: 'success',
								title: 'Success!',
								text: 'Your update was successful.',
								showConfirmButton: false,
								timer: 1500
							});
							$('#fullName').text(response.message);
						} else {
							// Display validation errors
					
							$('#validationMessage').show();
							$('#validationMessage').text(response.message);
						}
					},
					error: function (xhr, status, error) {
						// Handle errors
					}
				});
			});
		});
	</script>
	<script>
		document.getElementById('fileInput55').addEventListener('change', function (event) {
			event.preventDefault(); // Prevent default behavior of file input
			document.getElementById('uploadForm55').submit();
			console.log("hhhhh2");
		});
	</script>
	<script>
		document.getElementById('fileInput66').addEventListener('change', function (event) {
			event.preventDefault(); // Prevent default behavior of file input
			document.getElementById('uploadForm66').submit();
			console.log("hhhhh2");
		});
	</script>

	<script>

		$(document).ready(function () {
			// Show the initial active tab content
			// $('.tab2-pane').hide();
			$('.tab2-content').hide();
			$('.tab2-pane actives').show();
			$('.timeline-info a').click(function (e) {
		
				var target = $(this).attr('data-target');
				if ($(this).attr('data-target') !== "timeline" && $(this).attr('data-target') !== "Chat") {
					e.preventDefault();
				}
				$('.tab2-pane').hide(); // Hide all tab panes
				$('.tab2-content').hide();
				$('.tab3-content').hide();
				$('#' + target).show(); // Show the selected tab pane
				$('.timeline-info a').removeClass('active');
				$(this).addClass('active');
			})	
			$('.naves a').click(function (e) {
				
				var target = $(this).attr('href');
				$('.tab2-content').hide();
				$('.tab2-pane').hide(); // Hide all tab contents
					$(target).show();
				$('.timeline-info a').removeClass('active');
			
				
			});;

		});



	</script>
}
